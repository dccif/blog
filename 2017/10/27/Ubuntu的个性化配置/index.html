<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/assets/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/assets/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="Ubuntu下的个性化配置       因为使用Linux开发方便的缘故，我在虚拟机上用全性能搭建了一个Ubuntu环境(别问我为什么不装双系统) 于是和之前那篇Windows的重装一样，也想写一篇文章记录一下，以后搭建时可以方便一些">
<meta property="og:type" content="article">
<meta property="og:title" content="Ubuntu的个性化配置">
<meta property="og:url" content="http://example.com/2017/10/27/Ubuntu%E7%9A%84%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/index.html">
<meta property="og:site_name" content="dccif&#39;s Blog">
<meta property="og:description" content="Ubuntu下的个性化配置       因为使用Linux开发方便的缘故，我在虚拟机上用全性能搭建了一个Ubuntu环境(别问我为什么不装双系统) 于是和之前那篇Windows的重装一样，也想写一篇文章记录一下，以后搭建时可以方便一些">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-10-27T19:40:10.000Z">
<meta property="article:modified_time" content="2021-11-06T21:22:49.769Z">
<meta property="article:author" content="Barry He">
<meta property="article:tag" content="环境搭建">
<meta name="twitter:card" content="summary"><title>Ubuntu的个性化配置 | dccif's Blog</title><link ref="canonical" href="http://example.com/2017/10/27/Ubuntu%E7%9A%84%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: undefined,
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">Ubuntu的个性化配置</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2017-10-27</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-11-06</span></span></div></header><div class="post-body">
        <h1 id="Ubuntu下的个性化配置"   >
          <a href="#Ubuntu下的个性化配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#Ubuntu下的个性化配置" class="headerlink" title="Ubuntu下的个性化配置"></a>Ubuntu下的个性化配置</h1>
      <p>因为使用Linux开发方便的缘故，我在虚拟机上用全性能搭建了一个Ubuntu环境<del>(别问我为什么不装双系统)</del></p>
<p>于是和之前那篇Windows的重装一样，也想写一篇文章记录一下，以后搭建时可以方便一些</p>
<span id="more"></span>


        <h2 id="Java环境"   >
          <a href="#Java环境" class="heading-link"><i class="fas fa-link"></i></a><a href="#Java环境" class="headerlink" title="Java环境"></a>Java环境</h2>
      <p>本文参考<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04" >How To Install Java with Apt-Get on Ubuntu 16.04</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>这里是Java8</p>
<p>添加Oracle’s PPA</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:webupd8team/java</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></div></figure>

<p>Then, depending on the version you want to install, execute one of the following commands:</p>

        <h3 id="Oracle-JDK-8"   >
          <a href="#Oracle-JDK-8" class="heading-link"><i class="fas fa-link"></i></a><a href="#Oracle-JDK-8" class="headerlink" title="Oracle JDK 8"></a>Oracle JDK 8</h3>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install oracle-java8-installer</span><br></pre></td></tr></table></div></figure>


        <h3 id="Linux下的添加Java环境变量"   >
          <a href="#Linux下的添加Java环境变量" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux下的添加Java环境变量" class="headerlink" title="Linux下的添加Java环境变量"></a>Linux下的添加Java环境变量</h3>
      <p>Many programs, such as Java servers, use the <code>JAVA_HOME</code> environment variable to determine the Java installation location. To set this environment variable, we will first need to find out where Java is installed. You can do this by executing the same command as in the previous section:</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --config java</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>Copy the path from your preferred installation and then open <code>/etc/environment</code> using <code>nano</code> or your favorite text editor.</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/environment</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>At the end of this file, add the following line, making sure to replace the highlighted path with your own copied path.</p>
<p>/etc/environment</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=&quot;/usr/lib/jvm/java-8-oracle&quot;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>Save and exit the file, and reload it.</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/environment</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>You can now test whether the environment variable has been set by executing the following command:</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $JAVA_HOME</span><br></pre></td></tr></table></div></figure>




        <h2 id="开发环境"   >
          <a href="#开发环境" class="heading-link"><i class="fas fa-link"></i></a><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2>
      <p>Vim-gtk 官方源已经有最新的了，直接apt install 就行了</p>
<p>Emacs (需要手动添加源)</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:kelleyk/emacs</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install emacs25</span><br></pre></td></tr></table></div></figure>

<p>其余jetbrains全家桶，因为没有VS只好用Clion了</p>

        <h2 id="oh-my-zsh配置zsh"   >
          <a href="#oh-my-zsh配置zsh" class="heading-link"><i class="fas fa-link"></i></a><a href="#oh-my-zsh配置zsh" class="headerlink" title="oh-my-zsh配置zsh"></a>oh-my-zsh配置zsh</h2>
      <p>ubuntu默认不是zsh，输入下面命令安装 zsh</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install zsh</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>接下来我们需要下载 oh-my-zsh 项目来帮我们配置 zsh，注意此时一定要用 超级权限。</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br></pre></td></tr></table></div></figure>

<p>查看你的zsh位置，输入</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /etc/shells</span><br><span class="line"># /etc/shells: valid login shells</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/bash</span><br><span class="line">/bin/rbash</span><br><span class="line">/bin/zsh</span><br><span class="line">/usr/bin/zsh</span><br><span class="line">➜  ~ </span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>更改默认 shell，输入</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/passwd</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>更改 root 和用户默认 shell</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/usr/bin/zsh</span><br><span class="line">song:x:1000:1000:song,,,:/home/song:/usr/bin/zsh</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>zsh 的配置文件是在用户目录下的 .zshrc</p>
<p>每一行的配置前面都有#号,如果想要配置生效,去掉 #号即可.</p>

        <h2 id="补全插件-incr-zsh"   >
          <a href="#补全插件-incr-zsh" class="heading-link"><i class="fas fa-link"></i></a><a href="#补全插件-incr-zsh" class="headerlink" title="补全插件 incr.zsh"></a>补全插件 incr.zsh</h2>
      <p>这个插件的官网是: <span class="exturl"><a class="exturl__link"   href="http://link.zhihu.com/?target=http://mimosa-pudica.net/zsh-incremental.html" >Incremental completion on zsh</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>最新版本是 incr-0.2.zsh </p>
<p>新建一个 incr-0.2.zsh 文件把他放进 用户目录下的 .oh-my-zsh/plugins/incr 目录下，没有的目录自己新建，其实放哪都一样。</p>
<p>分别编辑 root 目录下的 .zshrc 和用户目录下的 .zsnrc</p>
<p>加上一句</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /home/song/.oh-my-zsh/plugins/incr/incr-0.2.zsh</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>/home/song/.oh-my-zsh/plugins/incr 是你放的不同的目录。</p>
<p>最后还有一个小问题，原来我们用的 超级用户创建的 oh-my-zsh 导致 .oh-my-zsh 目录下的缓存目录 cache 所有者和用户组也是root 这样就导致我们在普通用户下使用有些问题，下面改变 cache的所有者</p>
<p>输入</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown song:song cache/ -R</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>这样就不会在命令提示时候弹出错误了。</p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://example.com">Barry He</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://example.com/2017/10/27/Ubuntu%E7%9A%84%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/">http://example.com/2017/10/27/Ubuntu%E7%9A%84%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://example.com/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">环境搭建</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2017/11/04/%E6%95%B0%E7%BB%84%E6%89%A9%E5%B1%95%E7%9A%84%E6%95%88%E7%8E%87/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">数组扩展的效率</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2017/10/23/%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD-Git%E5%B0%8F%E6%8A%80%E5%B7%A7/"><span class="paginator-prev__text">博客备份-Git小技巧</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Ubuntu%E4%B8%8B%E7%9A%84%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">
          Ubuntu下的个性化配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.</span> <span class="toc-text">
          Java环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Oracle-JDK-8"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          Oracle JDK 8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E4%B8%8B%E7%9A%84%E6%B7%BB%E5%8A%A0Java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          Linux下的添加Java环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-number">1.2.</span> <span class="toc-text">
          开发环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#oh-my-zsh%E9%85%8D%E7%BD%AEzsh"><span class="toc-number">1.3.</span> <span class="toc-text">
          oh-my-zsh配置zsh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%A8%E6%8F%92%E4%BB%B6-incr-zsh"><span class="toc-number">1.4.</span> <span class="toc-text">
          补全插件 incr.zsh</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/assets/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">hello world</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">14</div><div class="sidebar-ov-state-item__name">归档</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Barry He</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>