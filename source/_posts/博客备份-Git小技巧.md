---
title: 博客备份-Git小技巧
date: 2017-10-23 23:53:27
updated: 
categories: 编程
tags: 细节
---

# Hexo博客的备份

可能是因为被害妄想症的原因吧，我怕博客的丢失，在我的硬盘，电脑和GitHub和私有服务器上备份了四份，在本博客的仓库的Public分支上就是我的博客文章的备份

<!--more-->

## 为什么要备份

备份的重要性我觉的不用我说了吧，为了防止数据的丢失 ~~虽然好像没什么宝贵的数据~~

其实是突然发奇想想利用Git的分支来在一个仓库管理我的博客

## 为什么只备份文章

毕竟文章本来就是给各位看的，但是私人的配置文件中有个人APIKey和一些个性化设定，这些可不好Public了😃

## Git小技巧

因为这次忽略文件是我临时添加的，再修改了**.gitignore**文件后在次上传并没有生效

感谢pfeng的作者，本文参考http://www.pfeng.org/archives/840

在**git**中如果想忽略掉某个文件，不让这个文件提交到版本库中，可以使用修改根目录中 **.gitignore** 文件的方法（如无，则需自己手工建立此文件）。这个文件每一行保存了一个匹配的规则例如：


```shell
# 此为注释 – 将被 Git 忽略
*.a         # 忽略所有 .a 结尾的文件
!lib.a      # 但 lib.a 除外
/TODO`      # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO
build/      # 忽略 build/ 目录下的所有文件
doc/*.txt   # 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt
```
规则很简单，不做过多解释，但是有时候在项目开发过程中，突然心血来潮想把某些目录或文件加入忽略规则，按照上述方法定义后发现并未生效，原因是**.gitignore**只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改**.gitignore**是无效的。那么解决方法就是先把本地缓存删除（改变成未track状态），然后再提交：
```shell
git rm -r --cached .
git add .
git commit -m 'update .gitignore'
```